import{j as c}from"./jsx-runtime-DR9Q75dM.js";import{r as m}from"./index-DRjF_FHU.js";import{u as Z,m as X,I as O,B as W}from"./IconButton-CbExvevs.js";import{D as ee,a as te}from"./LoadingIndicator-BY7ZTKnp.js";import{a as re,g as ne,s as M,r as ae,l as z,u as oe,c as $,d as ie}from"./Stack-BygXag9b.js";import{u as F,g as se,T as le,r as ce,a as Y}from"./useSlot-0E7IaSh4.js";import{o as H,M as de,C as pe}from"./Close-Cvwy6eSZ.js";import{P as ue}from"./Paper-CcsFN5SX.js";import{B as N}from"./Box-DIij3AdC.js";function fe(t,e=166){let a;function r(...o){const x=()=>{t.apply(this,o)};clearTimeout(a),a=setTimeout(x,e)}return r.clear=()=>{clearTimeout(a)},r}const me=m.createContext(),he=()=>m.useContext(me)??!1;function xe(t,e,a){const r=e.getBoundingClientRect(),o=a&&a.getBoundingClientRect(),x=H(e);let i;if(e.fakeTransform)i=e.fakeTransform;else{const s=x.getComputedStyle(e);i=s.getPropertyValue("-webkit-transform")||s.getPropertyValue("transform")}let p=0,l=0;if(i&&i!=="none"&&typeof i=="string"){const s=i.split("(")[1].split(")")[0].split(",");p=parseInt(s[4],10),l=parseInt(s[5],10)}return t==="left"?o?`translateX(${o.right+p-r.left}px)`:`translateX(${x.innerWidth+p-r.left}px)`:t==="right"?o?`translateX(-${r.right-o.left-p}px)`:`translateX(-${r.left+r.width-p}px)`:t==="up"?o?`translateY(${o.bottom+l-r.top}px)`:`translateY(${x.innerHeight+l-r.top}px)`:o?`translateY(-${r.top-o.top+r.height-l}px)`:`translateY(-${r.top+r.height-l}px)`}function ge(t){return typeof t=="function"?t():t}function V(t,e,a){const r=ge(a),o=xe(t,e,r);o&&(e.style.webkitTransform=o,e.style.transform=o)}const ve=m.forwardRef(function(e,a){const r=F(),o={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},x={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:i,appear:p=!0,children:l,container:s,direction:u="down",easing:C=o,in:g,onEnter:E,onEntered:I,onEntering:h,onExit:k,onExited:v,onExiting:j,style:D,timeout:y=x,TransitionComponent:T=le,...w}=e,d=m.useRef(null),P=Z(se(l),d,a),R=n=>f=>{n&&(f===void 0?n(d.current):n(d.current,f))},B=R((n,f)=>{V(u,n,s),ce(n),E&&E(n,f)}),b=R((n,f)=>{const A=Y({timeout:y,style:D,easing:C},{mode:"enter"});n.style.webkitTransition=r.transitions.create("-webkit-transform",{...A}),n.style.transition=r.transitions.create("transform",{...A}),n.style.webkitTransform="none",n.style.transform="none",h&&h(n,f)}),q=R(I),S=R(j),_=R(n=>{const f=Y({timeout:y,style:D,easing:C},{mode:"exit"});n.style.webkitTransition=r.transitions.create("-webkit-transform",f),n.style.transition=r.transitions.create("transform",f),V(u,n,s),k&&k(n)}),J=R(n=>{n.style.webkitTransition="",n.style.transition="",v&&v(n)}),Q=n=>{i&&i(d.current,n)},L=m.useCallback(()=>{d.current&&V(u,d.current,s)},[u,s]);return m.useEffect(()=>{if(g||u==="down"||u==="right")return;const n=fe(()=>{d.current&&V(u,d.current,s)}),f=H(d.current);return f.addEventListener("resize",n),()=>{n.clear(),f.removeEventListener("resize",n)}},[u,g,s]),m.useEffect(()=>{g||L()},[g,L]),c.jsx(T,{nodeRef:d,onEnter:B,onEntered:q,onEntering:b,onExit:_,onExited:J,onExiting:S,addEndListener:Q,appear:p,in:g,timeout:y,...w,children:(n,{ownerState:f,...A})=>m.cloneElement(l,{ref:P,style:{visibility:n==="exited"&&!g?"hidden":void 0,...D,...l.props.style},...A})})});function ye(t){return re("MuiDrawer",t)}ne("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const K=(t,e)=>{const{ownerState:a}=t;return[e.root,(a.variant==="permanent"||a.variant==="persistent")&&e.docked,e.modal]},we=t=>{const{classes:e,anchor:a,variant:r}=t,o={root:["root"],docked:[(r==="permanent"||r==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${z(a)}`,r!=="temporary"&&`paperAnchorDocked${z(a)}`]};return ie(o,ye,e)},be=M(de,{name:"MuiDrawer",slot:"Root",overridesResolver:K})(X(({theme:t})=>({zIndex:(t.vars||t).zIndex.drawer}))),U=M("div",{shouldForwardProp:ae,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:K})({flex:"0 0 auto"}),ke=M(ue,{name:"MuiDrawer",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.paper,e[`paperAnchor${z(a.anchor)}`],a.variant!=="temporary"&&e[`paperAnchorDocked${z(a.anchor)}`]]}})(X(({theme:t})=>({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(t.vars||t).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0,variants:[{props:{anchor:"left"},style:{left:0}},{props:{anchor:"top"},style:{top:0,left:0,right:0,height:"auto",maxHeight:"100%"}},{props:{anchor:"right"},style:{right:0}},{props:{anchor:"bottom"},style:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"}},{props:({ownerState:e})=>e.anchor==="left"&&e.variant!=="temporary",style:{borderRight:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>e.anchor==="top"&&e.variant!=="temporary",style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>e.anchor==="right"&&e.variant!=="temporary",style:{borderLeft:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>e.anchor==="bottom"&&e.variant!=="temporary",style:{borderTop:`1px solid ${(t.vars||t).palette.divider}`}}]}))),G={left:"right",right:"left",top:"down",bottom:"up"};function Te(t){return["left","right"].includes(t)}function Ce({direction:t},e){return t==="rtl"&&Te(e)?G[e]:e}const De=m.forwardRef(function(e,a){const r=oe({props:e,name:"MuiDrawer"}),o=F(),x=he(),i={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{anchor:p="left",BackdropProps:l,children:s,className:u,elevation:C=16,hideBackdrop:g=!1,ModalProps:{BackdropProps:E,...I}={},onClose:h,open:k=!1,PaperProps:v={},SlideProps:j,TransitionComponent:D=ve,transitionDuration:y=i,variant:T="temporary",...w}=r,d=m.useRef(!1);m.useEffect(()=>{d.current=!0},[]);const P=Ce({direction:x?"rtl":"ltr"},p),B={...r,anchor:p,elevation:C,open:k,variant:T,...w},b=we(B),q=c.jsx(ke,{elevation:T==="temporary"?C:0,square:!0,...v,className:$(b.paper,v.className),ownerState:B,children:s});if(T==="permanent")return c.jsx(U,{className:$(b.root,b.docked,u),ownerState:B,ref:a,...w,children:q});const S=c.jsx(D,{in:k,direction:G[P],timeout:y,appear:d.current,...j,children:q});return T==="persistent"?c.jsx(U,{className:$(b.root,b.docked,u),ownerState:B,ref:a,...w,children:S}):c.jsx(be,{BackdropProps:{...l,...E,transitionDuration:y},className:$(b.root,b.modal,u),open:k,ownerState:B,onClose:h,hideBackdrop:g,ref:a,...w,...I,children:S})}),Re=m.forwardRef(({title:t,loading:e=!1,loadingOptions:a,showCloseIcon:r=!0,titleProps:o={},disableBackdropClick:x=!1,contentProps:i={},actionsProps:p={},onClose:l,onSubmit:s,submitText:u="Submit",cancelText:C="Cancel",customActions:g,anchor:E="right",children:I,...h},k)=>{var w;const[v,j]=m.useState(!1),D=(d,P)=>{P==="backdropClick"&&x||v||l==null||l(d,P)},y=d=>{v||l==null||l(d,"closeButtonClick")},T=async()=>{j(!0);try{await(s==null?void 0:s())}finally{j(!1)}};return c.jsxs(De,{ref:k,...h,anchor:E,onClose:D,PaperProps:{...h==null?void 0:h.PaperProps,sx:{minWidth:{xs:"100%",md:"30%"},...(w=h==null?void 0:h.PaperProps)==null?void 0:w.sx}},children:[(t||r)&&c.jsxs(N,{...o,sx:{px:3,py:2,display:"flex",alignItems:"center",justifyContent:"space-between",...o==null?void 0:o.sx},children:[c.jsx(ee,{sx:{flex:1},loading:e,children:t}),r&&c.jsx(O,{"aria-label":"drawer-close",onClick:y,disabled:v,sx:{color:"text.secondary"},size:"small",children:c.jsx(pe,{})})]}),c.jsx(N,{...i,sx:{px:3,py:2,overflow:"auto",flexGrow:1,...((i==null?void 0:i.dividers)??!0)&&{borderTop:1,borderBottom:1,borderColor:"divider"},...i==null?void 0:i.sx},children:e?c.jsx(te,{...a}):I}),(s||g)&&c.jsx(N,{...p,sx:{p:1.5,position:"sticky",bottom:0,display:"flex",alignItems:"center",justifyContent:"center",gap:1.5,...p==null?void 0:p.sx},children:g||c.jsxs(c.Fragment,{children:[c.jsx(W,{variant:"outlined",size:"medium",onClick:y,disabled:v,children:C}),c.jsx(W,{variant:"contained",size:"medium",onClick:T,loading:v,children:u})]})})]})});Re.__docgenInfo={description:`\`Drawer\` 抽屜元件，由螢幕邊緣滑出的浮動面版，
常見的應用是作為導航用途，例如 Navigation drawers。

參考 [Material-UI Button](https://mui.com/material-ui/react-drawer/)`,methods:[],displayName:"GwDrawer",props:{title:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"the title of the drawer."},showCloseIcon:{required:!1,tsType:{name:"boolean"},description:"If `true`, will show the close icon button on the top-right corner.\n\n@default true",defaultValue:{value:"true",computed:!1}},titleProps:{required:!1,tsType:{name:"BoxProps"},description:"The props of the title wrapper `Box` component.\n\nref: [Box API](https://mui.com/material-ui/api/box/)",defaultValue:{value:"{}",computed:!1}},disableBackdropClick:{required:!1,tsType:{name:"boolean"},description:"If `true`, disable clicking on the backdrop to close the drawer.\n\n@default false",defaultValue:{value:"false",computed:!1}},onClose:{required:!1,tsType:{name:"signature",type:"function",raw:"(event: object, reason: 'backdropClick' | 'escapeKeyDown' | 'closeButtonClick') => void",signature:{arguments:[{type:{name:"object"},name:"event"},{type:{name:"union",raw:"'backdropClick' | 'escapeKeyDown' | 'closeButtonClick'",elements:[{name:"literal",value:"'backdropClick'"},{name:"literal",value:"'escapeKeyDown'"},{name:"literal",value:"'closeButtonClick'"}]},name:"reason"}],return:{name:"void"}}},description:`Callback fired when the component requests to be closed.

@param event — The event source of the callback.
@param reason — Can be: "escapeKeyDown", "backdropClick", "closeButtonClick".`},contentProps:{required:!1,tsType:{name:"intersection",raw:`{
  /**
   * Display the top and bottom dividers.
   *
   * @default true
   */
  dividers?: boolean;
} & BoxProps`,elements:[{name:"signature",type:"object",raw:`{
  /**
   * Display the top and bottom dividers.
   *
   * @default true
   */
  dividers?: boolean;
}`,signature:{properties:[{key:"dividers",value:{name:"boolean",required:!1},description:`Display the top and bottom dividers.

@default true`}]}},{name:"BoxProps"}]},description:"The props of the content wrapper `Box` component.\n\nref: [Box API](https://mui.com/material-ui/api/box/)",defaultValue:{value:"{}",computed:!1}},actionsProps:{required:!1,tsType:{name:"BoxProps"},description:"The props of the actions wrapper `DialogActions` component.\n\nref: [Box API](https://mui.com/material-ui/api/box/)",defaultValue:{value:"{}",computed:!1}},onSubmit:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void | Promise<void>",signature:{arguments:[],return:{name:"union",raw:"void | Promise<void>",elements:[{name:"void"},{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}]}}},description:"callback when the submit button is clicked."},submitText:{required:!1,tsType:{name:"string"},description:`The text of the submit button.

@default 'Submit'`,defaultValue:{value:"'Submit'",computed:!1}},cancelText:{required:!1,tsType:{name:"string"},description:`The text of the cancel button.

@default 'Cancel'`,defaultValue:{value:"'Cancel'",computed:!1}},customActions:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"Custom actions component."},loading:{required:!1,tsType:{name:"boolean"},description:"If `true`, the drawer will show loading effect.\n\n@default false",defaultValue:{value:"false",computed:!1}},loadingOptions:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  /**
   * The Skeleton count.
   *
   * @default 3
   */
  count?: number;
  /**
   * Each Skeleton height.
   *
   * @default 40
   */
  height?: number;
}`,signature:{properties:[{key:"count",value:{name:"number",required:!1},description:`The Skeleton count.

@default 3`},{key:"height",value:{name:"number",required:!1},description:`Each Skeleton height.

@default 40`}]}},description:"The options of loading effect."},anchor:{defaultValue:{value:"'right'",computed:!1},required:!1}}};export{Re as D,fe as d,he as u};
