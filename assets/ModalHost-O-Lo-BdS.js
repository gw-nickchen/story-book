import{j as t}from"./jsx-runtime-DR9Q75dM.js";import{r as d,a as le}from"./index-DRjF_FHU.js";import{m as G,c as B,I as ce,B as A}from"./IconButton-CbExvevs.js";import{D as de,a as pe}from"./LoadingIndicator-BY7ZTKnp.js";import{a as R,g as W,s as g,l as y,u as P,c as b,d as q,S as K}from"./Stack-BygXag9b.js";import{u as ue}from"./useSlot-0E7IaSh4.js";import{B as me,M as fe,F as ge,T as Q,C as he}from"./Close-Cvwy6eSZ.js";import{P as J}from"./Paper-CcsFN5SX.js";import{B as xe}from"./Box-DIij3AdC.js";let O=0;function ve(e){const[a,o]=d.useState(e),n=e||a;return d.useEffect(()=>{a==null&&(O+=1,o(`mui-${O}`))},[a]),n}const ye={...le},Y=ye.useId;function be(e){if(Y!==void 0){const a=Y();return e??a}return ve(e)}function De(e){return R("MuiDialog",e)}const V=W("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),Z=d.createContext({}),ke=g(me,{name:"MuiDialog",slot:"Backdrop",overrides:(e,a)=>a.backdrop})({zIndex:-1}),Ce=e=>{const{classes:a,scroll:o,maxWidth:n,fullWidth:i,fullScreen:r}=e,c={root:["root"],container:["container",`scroll${y(o)}`],paper:["paper",`paperScroll${y(o)}`,`paperWidth${y(String(n))}`,i&&"paperFullWidth",r&&"paperFullScreen"]};return q(c,De,a)},we=g(fe,{name:"MuiDialog",slot:"Root",overridesResolver:(e,a)=>a.root})({"@media print":{position:"absolute !important"}}),Me=g("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,a)=>{const{ownerState:o}=e;return[a.container,a[`scroll${y(o.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),Se=g(J,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,a)=>{const{ownerState:o}=e;return[a.paper,a[`scrollPaper${y(o.scroll)}`],a[`paperWidth${y(String(o.maxWidth))}`],o.fullWidth&&a.paperFullWidth,o.fullScreen&&a.paperFullScreen]}})(G(({theme:e})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:a})=>!a.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${V.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(e.breakpoints.values).filter(a=>a!=="xs").map(a=>({props:{maxWidth:a},style:{maxWidth:`${e.breakpoints.values[a]}${e.breakpoints.unit}`,[`&.${V.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[a]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:a})=>a.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:a})=>a.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${V.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),Te=d.forwardRef(function(a,o){const n=P({props:a,name:"MuiDialog"}),i=ue(),r={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":c,"aria-labelledby":s,"aria-modal":l=!0,BackdropComponent:p,BackdropProps:D,children:L,className:C,disableEscapeKeyDown:w=!1,fullScreen:u=!1,fullWidth:$=!1,maxWidth:m="sm",onBackdropClick:k,onClick:M,onClose:h,open:S,PaperComponent:T=J,PaperProps:x={},scroll:j="paper",TransitionComponent:te=ge,transitionDuration:U=r,TransitionProps:oe,...ne}=n,I={...n,disableEscapeKeyDown:w,fullScreen:u,fullWidth:$,maxWidth:m,scroll:j},E=Ce(I),_=d.useRef(),ie=v=>{_.current=v.target===v.currentTarget},se=v=>{M&&M(v),_.current&&(_.current=null,k&&k(v),h&&h(v,"backdropClick"))},N=be(s),re=d.useMemo(()=>({titleId:N}),[N]);return t.jsx(we,{className:b(E.root,C),closeAfterTransition:!0,components:{Backdrop:ke},componentsProps:{backdrop:{transitionDuration:U,as:p,...D}},disableEscapeKeyDown:w,onClose:h,open:S,ref:o,onClick:se,ownerState:I,...ne,children:t.jsx(te,{appear:!0,in:S,timeout:U,role:"presentation",...oe,children:t.jsx(Me,{className:b(E.container),onMouseDown:ie,ownerState:I,children:t.jsx(Se,{as:T,elevation:24,role:"dialog","aria-describedby":c,"aria-labelledby":N,"aria-modal":l,...x,className:b(E.paper,x.className),ownerState:I,children:t.jsx(Z.Provider,{value:re,children:L})})})})})});function je(e){return R("MuiDialogActions",e)}W("MuiDialogActions",["root","spacing"]);const Ie=e=>{const{classes:a,disableSpacing:o}=e;return q({root:["root",!o&&"spacing"]},je,a)},Ae=g("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,a)=>{const{ownerState:o}=e;return[a.root,!o.disableSpacing&&a.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:e})=>!e.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),Be=d.forwardRef(function(a,o){const n=P({props:a,name:"MuiDialogActions"}),{className:i,disableSpacing:r=!1,...c}=n,s={...n,disableSpacing:r},l=Ie(s);return t.jsx(Ae,{className:b(l.root,i),ownerState:s,ref:o,...c})});function Re(e){return R("MuiDialogContent",e)}W("MuiDialogContent",["root","dividers"]);function We(e){return R("MuiDialogTitle",e)}const Pe=W("MuiDialogTitle",["root"]),qe=e=>{const{classes:a,dividers:o}=e;return q({root:["root",o&&"dividers"]},Re,a)},Le=g("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,a)=>{const{ownerState:o}=e;return[a.root,o.dividers&&a.dividers]}})(G(({theme:e})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:a})=>a.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:a})=>!a.dividers,style:{[`.${Pe.root} + &`]:{paddingTop:0}}}]}))),$e=d.forwardRef(function(a,o){const n=P({props:a,name:"MuiDialogContent"}),{className:i,dividers:r=!1,...c}=n,s={...n,dividers:r},l=qe(s);return t.jsx(Le,{className:b(l.root,i),ownerState:s,ref:o,...c})}),Ee=e=>{const{classes:a}=e;return q({root:["root"]},We,a)},_e=g(Q,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,a)=>a.root})({padding:"16px 24px",flex:"0 0 auto"}),Ne=d.forwardRef(function(a,o){const n=P({props:a,name:"MuiDialogTitle"}),{className:i,id:r,...c}=n,s=n,l=Ee(s),{titleId:p=r}=d.useContext(Z);return t.jsx(_e,{component:"h2",className:b(l.root,i),ownerState:s,ref:o,variant:"h6",id:r??p,...c})}),Ve=B(t.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"Cancel"),ze=B(t.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle"),H=B(t.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info"),Fe=B(t.jsx("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning"),ee=d.forwardRef(({title:e,loading:a=!1,loadingOptions:o,showCloseIcon:n=!0,titleProps:i={},disableBackdropClick:r=!1,contentProps:c={},actionsProps:s={},onClose:l,onSubmit:p,submitButtonText:D="Submit",cancelButtonText:L="Cancel",customActions:C,children:w,...u},$)=>{var T;const[m,k]=d.useState(!1),M=(x,j)=>{j==="backdropClick"&&r||m||l==null||l(x,j)},h=x=>{m||l==null||l(x,"closeButtonClick")},S=async()=>{k(!0);try{await(p==null?void 0:p())}finally{k(!1)}};return t.jsxs(Te,{ref:$,...u,onClose:M,PaperProps:{...u==null?void 0:u.PaperProps,sx:{borderRadius:4,...(T=u==null?void 0:u.PaperProps)==null?void 0:T.sx}},children:[(e||n)&&t.jsxs(Ne,{color:"primary.main",...i,sx:{display:"flex",justifyContent:"space-between",alignItems:"center",...i==null?void 0:i.sx},children:[t.jsx(de,{sx:{flex:1},loading:a,children:e}),n&&t.jsx(ce,{"aria-label":"modal-close",onClick:h,disabled:m,sx:{color:"text.secondary"},size:"small",children:t.jsx(he,{})})]}),t.jsx($e,{...c,dividers:(c==null?void 0:c.dividers)??!0,children:a?t.jsx(pe,{...o}):w}),(p||C)&&t.jsx(Be,{...s,sx:{paddingX:3,paddingY:2,...s==null?void 0:s.sx},children:C||t.jsxs(t.Fragment,{children:[t.jsx(A,{variant:"outlined",size:"medium",onClick:h,loading:a,disabled:m,sx:{minWidth:80},children:L}),t.jsx(A,{variant:"contained",size:"medium",onClick:S,loading:a||m,sx:{minWidth:80},children:D})]})})]})});ee.__docgenInfo={description:"`Modal` 是一個封裝好的對話框元件，提供了標題、內容、確定、取消等功能。\n\n參考 [Material-UI Dialog](https://mui.com/material-ui/react-dialog/)",methods:[],displayName:"GwModal",props:{title:{required:!1,tsType:{name:"string"},description:"The title of the dialog."},showCloseIcon:{required:!1,tsType:{name:"boolean"},description:"If `true`, will show the close icon button on the top-right corner.\n\n@default true",defaultValue:{value:"true",computed:!1}},titleProps:{required:!1,tsType:{name:"DialogTitleProps"},description:"The props of the title wrapper `DialogTitle` component.\n\nref: [DialogTitle API](https://mui.com/material-ui/api/dialog-title/)",defaultValue:{value:"{}",computed:!1}},disableBackdropClick:{required:!1,tsType:{name:"boolean"},description:"If `true`, disable clicking on the backdrop to close the modal.\n\n@default false",defaultValue:{value:"false",computed:!1}},onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"(event: object, reason: 'backdropClick' | 'escapeKeyDown' | 'closeButtonClick') => void",signature:{arguments:[{type:{name:"object"},name:"event"},{type:{name:"union",raw:"'backdropClick' | 'escapeKeyDown' | 'closeButtonClick'",elements:[{name:"literal",value:"'backdropClick'"},{name:"literal",value:"'escapeKeyDown'"},{name:"literal",value:"'closeButtonClick'"}]},name:"reason"}],return:{name:"void"}}},description:`Callback fired when the component requests to be closed.

@param event — The event source of the callback.
@param reason — Can be: "escapeKeyDown", "backdropClick", "closeButtonClick".`},contentProps:{required:!1,tsType:{name:"intersection",raw:`{
  /**
   * Display the top and bottom dividers.
   *
   * @default true
   */
  dividers?: boolean;
} & Omit<DialogContentProps, 'dividers'>`,elements:[{name:"signature",type:"object",raw:`{
  /**
   * Display the top and bottom dividers.
   *
   * @default true
   */
  dividers?: boolean;
}`,signature:{properties:[{key:"dividers",value:{name:"boolean",required:!1},description:`Display the top and bottom dividers.

@default true`}]}},{name:"Omit",elements:[{name:"DialogContentProps"},{name:"literal",value:"'dividers'"}],raw:"Omit<DialogContentProps, 'dividers'>"}]},description:"The props of the content wrapper `DialogContent` component.\n\nref: [DialogContent API](https://mui.com/material-ui/api/dialog-content/)",defaultValue:{value:"{}",computed:!1}},actionsProps:{required:!1,tsType:{name:"DialogActionsProps"},description:"The props of the actions wrapper `DialogActions` component.\n\nref: [DialogActions API](https://mui.com/material-ui/api/dialog-actions/)",defaultValue:{value:"{}",computed:!1}},onSubmit:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void | Promise<void>",signature:{arguments:[],return:{name:"union",raw:"void | Promise<void>",elements:[{name:"void"},{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}]}}},description:"Callback fired when the submit button is clicked."},submitButtonText:{required:!1,tsType:{name:"string"},description:`The text of the submit button.

@default 'Submit'`,defaultValue:{value:"'Submit'",computed:!1}},cancelButtonText:{required:!1,tsType:{name:"string"},description:`The text of the cancel button.

@default 'Cancel'`,defaultValue:{value:"'Cancel'",computed:!1}},customActions:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"Custom actions component."},loading:{required:!1,tsType:{name:"boolean"},description:"If `true`, the modal will show loading effect.\n\n@default false",defaultValue:{value:"false",computed:!1}},loadingOptions:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  /**
   * The Skeleton count.
   *
   * @default 3
   */
  count?: number;
  /**
   * Each Skeleton height.
   *
   * @default 40
   */
  height?: number;
}`,signature:{properties:[{key:"count",value:{name:"number",required:!1},description:`The Skeleton count.

@default 3`},{key:"height",value:{name:"number",required:!1},description:`Each Skeleton height.

@default 40`}]}},description:"The options of loading effect."}}};const ae=({okButtonText:e="OK",cancelButtonText:a="Cancel",open:o,onClose:n,onOk:i,title:r,children:c,type:s})=>{const[l,p]=d.useState(!1),D=async()=>{p(!0);try{await(i==null?void 0:i())}finally{p(!1)}};return t.jsx(ee,{open:o,onClose:n,showCloseIcon:!1,disableBackdropClick:!0,disableEscapeKeyDown:!0,contentProps:{dividers:!1},customActions:t.jsxs(t.Fragment,{children:[s==="confirm"&&t.jsx(A,{variant:"outlined",size:"medium",onClick:()=>n==null?void 0:n({},"closeButtonClick"),sx:{minWidth:80},disabled:l,children:a}),t.jsx(A,{variant:"contained",size:"medium",onClick:D,sx:{minWidth:80},loading:l,children:e})]}),children:t.jsxs(K,{direction:"row",spacing:1,children:[s==="info"&&t.jsx(H,{sx:{color:"info.main"}}),s==="success"&&t.jsx(ze,{sx:{color:"success.main"}}),s==="error"&&t.jsx(Ve,{sx:{color:"error.main"}}),s==="warning"&&t.jsx(Fe,{sx:{color:"warning.main"}}),s==="confirm"&&t.jsx(H,{sx:{color:"warning.main"}}),t.jsxs(K,{spacing:1,children:[r&&t.jsx(Q,{fontWeight:"bold",children:r}),t.jsx(xe,{children:c})]})]})})};ae.__docgenInfo={description:"",methods:[],displayName:"ModalQuick",props:{type:{required:!0,tsType:{name:"union",raw:"'info' | 'success' | 'warning' | 'error' | 'confirm'",elements:[{name:"literal",value:"'info'"},{name:"literal",value:"'success'"},{name:"literal",value:"'warning'"},{name:"literal",value:"'error'"},{name:"literal",value:"'confirm'"}]},description:"The type of the modal."},onOk:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void | Promise<void>",signature:{arguments:[],return:{name:"union",raw:"void | Promise<void>",elements:[{name:"void"},{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}]}}},description:"Callback fired when the ok button is clicked."},okButtonText:{required:!1,tsType:{name:"string"},description:`The text of the ok button.

@default 'OK'`,defaultValue:{value:"'OK'",computed:!1}},cancelButtonText:{defaultValue:{value:"'Cancel'",computed:!1},required:!1}}};const Ue=(e,a)=>{switch(a.type){case"ADD_MODAL":return{modals:[...e.modals,{...a.payload,modalId:new Date().valueOf(),open:!0}]};case"REMOVE_MODAL":return{modals:e.modals.filter(o=>o.modalId!==a.payload)};case"REMOVE_ALL_MODALS":return{modals:[]};default:return e}};let z={modals:[]};const F=new Set,X=()=>z,f=e=>{z=Ue(z,e),F.forEach(a=>a())},Ke=()=>d.useSyncExternalStore(e=>(F.add(e),()=>F.delete(e)),X,X),Oe=()=>{const{modals:e}=Ke();return t.jsx(t.Fragment,{children:e.map(({modalId:a,content:o,onOk:n,onClose:i,...r})=>t.jsx(ae,{...r,onOk:async()=>{await(n==null?void 0:n()),f({type:"REMOVE_MODAL",payload:a})},onClose:()=>{i==null||i({},"closeButtonClick"),f({type:"REMOVE_MODAL",payload:a})},children:o},a))})},ta={info:e=>{f({type:"ADD_MODAL",payload:{...e,type:"info"}})},success:e=>{f({type:"ADD_MODAL",payload:{...e,type:"success"}})},warning:e=>{f({type:"ADD_MODAL",payload:{...e,type:"warning"}})},error:e=>{f({type:"ADD_MODAL",payload:{...e,type:"error"}})},confirm:e=>{f({type:"ADD_MODAL",payload:{...e,type:"confirm"}})}};Oe.__docgenInfo={description:"",methods:[],displayName:"ModalHost"};export{Ve as C,Be as D,ee as M,Oe as a,Te as b,$e as c,V as d,Ne as e,ta as o,be as u};
